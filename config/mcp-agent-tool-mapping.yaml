# MCP Tool-to-Agent Mapping
# Generated: 2025-12-03
# Based on actual Docker MCP Toolkit discovery

discovery_summary:
  total_servers: 20
  total_tools: 178
  discovery_method: "Docker MCP Toolkit CLI"
  gateway_endpoint: "docker://central-mcp-gateway"
  discovery_timestamp: "2025-12-03T00:00:00Z"

  enabled_servers:
    - context7
    - dockerhub
    - gemini-api-docs
    - github-official # Full GitHub API with OAuth (replaces gitmcp)
    - gmail-mcp
    - google-maps-comprehensive
    - grafana
    - hugging-face
    - llmtxt
    - mcp-api-gateway
    - next-devtools-mcp
    - notion
    - playwright
    - prometheus
    - rust-mcp-filesystem
    - sequentialthinking
    - stripe
    - time
    - youtube_transcript
    - zen

  server_tool_counts:
    context7: 3
    dockerhub: 13
    gemini-api-docs: 4
    github-official: 40 # Comprehensive GitHub API access
    gmail-mcp: 5
    google-maps-comprehensive: 8
    grafana: 4
    hugging-face: 9
    llmtxt: 2
    mcp-api-gateway: 3
    next-devtools-mcp: 5
    notion: 19
    playwright: 21
    prometheus: 3
    rust-mcp-filesystem: 24
    sequentialthinking: 6
    stripe: 22
    time: 2
    youtube_transcript: 2
    zen: 3

# ============================================================================
# AGENT-SPECIFIC TOOL MAPPINGS
# ============================================================================

agent_tool_mappings:
  # --------------------------------------------------------------------------
  # ORCHESTRATOR AGENT
  # --------------------------------------------------------------------------
  orchestrator:
    mission: "Coordinates task routing, agent hand-offs, workflow state, and global observability"

    recommended_tools:
      - server: "sequentialthinking"
        tools: ["sequentialthinking"]
        rationale: "Break down complex, ambiguous requests into structured subtask plans using step-by-step reasoning"
        priority: "critical"
        use_cases:
          - "Decompose vague user requests"
          - "Plan multi-stage workflows with dependencies"

      - server: "context7"
        tools: ["resolve-library-id", "get-library-docs"]
        rationale: "Retrieve orchestration patterns, agent capabilities, and routing rules from documentation corpus"
        priority: "high"
        use_cases:
          - "Look up agent endpoint documentation"
          - "Find routing precedents for similar tasks"

      - server: "notion"
        tools:
          [
            "create_page",
            "update_page",
            "search_pages",
            "query_database",
            "create_database_item",
          ]
        rationale: "Maintain global task board, SLA tracking, and stakeholder visibility dashboards"
        priority: "high"
        use_cases:
          - "Create master task entries with subtask links"
          - "Update workflow status in real-time"
          - "Query for blocked/overdue tasks"

      - server: "time"
        tools: ["get_current_time", "convert_timezone"]
        rationale: "Timestamp events, schedule follow-ups, and track SLA deadlines across timezones"
        priority: "medium"
        use_cases:
          - "Log orchestration event timestamps"
          - "Calculate time-to-completion metrics"

      - server: "gmail-mcp"
        tools: ["send_email", "search_emails", "get_email"]
        rationale: "Notify stakeholders, escalate blocked tasks, and handle email-triggered workflows"
        priority: "medium"
        use_cases:
          - "Send completion notifications"
          - "Escalation emails for SLA breaches"

      - server: "prometheus"
        tools: ["query_metrics", "list_metrics", "get_alerts"]
        rationale: "Monitor agent health, track orchestration latency, and aggregate system-wide observability"
        priority: "medium"

      - server: "grafana"
        tools: ["query_dashboard", "list_dashboards", "get_annotations"]
        rationale: "Access monitoring dashboards and annotations for workflow visibility"
        priority: "medium"

    shared_tools:
      - server: "rust-mcp-filesystem"
        tools: ["list_directory", "read_file", "write_file"]
        rationale: "Read/write orchestration config, route tables, and workflow definitions"

      - server: "fetch"
        tools: ["fetch_url"]
        rationale: "Query external APIs for task validation or integration status"

  # --------------------------------------------------------------------------
  # FEATURE DEVELOPMENT AGENT
  # --------------------------------------------------------------------------
  feature_dev:
    mission: "Implements features through code generation, scaffolding, and test creation"

    recommended_tools:
      - server: "rust-mcp-filesystem"
        tools:
          [
            "list_directory",
            "read_file",
            "write_file",
            "create_directory",
            "move_file",
            "search_files",
            "get_file_info",
          ]
        rationale: "Navigate repository structure, read existing code, write new modules, and organize artifacts"
        priority: "critical"
        use_cases:
          - "Read existing codebase for context"
          - "Write feature implementation files"
          - "Create test scaffolding"
          - "Organize generated artifacts into proper directory structure"

      - server: "github-official"
        tools:
          [
            "create_branch",
            "push_files",
            "create_pull_request",
            "get_file_contents",
            "search_code",
            "list_commits",
          ]
        rationale: "Full GitHub API for branches, commits, PRs, and code search with OAuth"
        priority: "critical"
        use_cases:
          - "Branch from main for new features"
          - "Commit generated code with descriptive messages"
          - "Open draft PRs for orchestrator tracking"
          - "Search existing code patterns"

      - server: "context7"
        tools: ["search_docs", "list_docs"]
        rationale: "Retrieve coding standards, architecture patterns, and API documentation"
        priority: "high"
        use_cases:
          - "Look up project coding conventions"
          - "Find similar feature implementations"
          - "Reference API contracts"

      - server: "hugging-face"
        tools: ["generate_code", "code_completion", "explain_code"]
        rationale: "LLM-powered code synthesis, completion suggestions, and explanation generation"
        priority: "high"
        use_cases:
          - "Generate boilerplate code"
          - "Auto-complete complex functions"
          - "Explain generated code for documentation"

      - server: "next-devtools-mcp"
        tools:
          ["analyze_build", "get_routes", "check_performance", "inspect_cache"]
        rationale: "Analyze Next.js projects for build optimization and routing structure"
        priority: "medium"
        use_cases:
          - "Validate feature impact on build size"
          - "Check routing conflicts"
          - "Analyze cache implications"

      - server: "playwright"
        tools: ["navigate", "screenshot", "click", "fill", "evaluate"]
        rationale: "Generate E2E tests, capture UI states, and validate feature behavior"
        priority: "high"
        use_cases:
          - "Create automated UI tests"
          - "Capture baseline screenshots"
          - "Validate form interactions"

      - server: "notion"
        tools: ["get_page", "search_pages", "append_blocks"]
        rationale: "Retrieve feature specs, acceptance criteria, and append implementation notes"
        priority: "medium"
        use_cases:
          - "Fetch detailed feature requirements"
          - "Document implementation decisions"

      - server: "perplexity-ask"
        tools: ["ask", "search_recent"]
        rationale: "Research external APIs, frameworks, or best practices for feature implementation"
        priority: "low"
        use_cases:
          - "Look up third-party API documentation"
          - "Research implementation patterns"

    shared_tools:
      - server: "time"
        tools: ["get_current_time"]
        rationale: "Timestamp commits and track development velocity"

  # --------------------------------------------------------------------------
  # CODE REVIEW AGENT
  # --------------------------------------------------------------------------
  code_review:
    mission: "Analyzes code quality, security, style, and maintainability"

    recommended_tools:
      - server: "github-official"
        tools:
          [
            "get_file_contents",
            "list_commits",
            "get_pull_request",
            "list_pull_request_files",
            "create_pull_request_review",
          ]
        rationale: "Retrieve diffs, file contents, and PR context for comprehensive review"
        priority: "critical"
        use_cases:
          - "Fetch PR diffs for analysis"
          - "Read modified file contents"
          - "Check commit messages for context"
          - "Submit PR reviews"

      - server: "rust-mcp-filesystem"
        tools: ["read_file", "search_files", "get_file_info"]
        rationale: "Read source files, search for patterns, and analyze file structure"
        priority: "critical"
        use_cases:
          - "Scan codebase for similar patterns"
          - "Validate imports and dependencies"
          - "Check file organization"

      - server: "hugging-face"
        tools: ["analyze_code", "detect_bugs", "suggest_improvements"]
        rationale: "AI-powered code analysis, bug detection, and refactoring suggestions"
        priority: "high"
        use_cases:
          - "Detect potential bugs"
          - "Suggest performance optimizations"
          - "Identify code smells"

      - server: "context7"
        tools: ["search_docs"]
        rationale: "Reference coding standards, security policies, and best practice guidelines"
        priority: "high"
        use_cases:
          - "Validate against project standards"
          - "Check security policy compliance"

      - server: "playwright"
        tools: ["evaluate", "console_messages"]
        rationale: "Execute code in browser context to detect runtime issues"
        priority: "medium"
        use_cases:
          - "Test JavaScript execution"
          - "Capture console warnings/errors"

      - server: "notion"
        tools: ["create_page", "append_blocks", "add_comment"]
        rationale: "Document review findings, create issue tickets, and add review comments"
        priority: "medium"
        use_cases:
          - "Create detailed review reports"
          - "Generate actionable issue tickets"

      - server: "gmail-mcp"
        tools: ["send_email"]
        rationale: "Notify developers of critical findings or review completion"
        priority: "low"

    shared_tools:
      - server: "time"
        tools: ["get_current_time"]
        rationale: "Timestamp reviews and calculate review turnaround time"

  # --------------------------------------------------------------------------
  # INFRASTRUCTURE AGENT
  # --------------------------------------------------------------------------
  infrastructure:
    mission: "Manages IaC, deployments, environment configuration, and resource provisioning"

    recommended_tools:
      - server: "dockerhub"
        tools:
          [
            "search_images",
            "get_image_details",
            "list_tags",
            "pull_image",
            "run_container",
            "list_containers",
            "stop_container",
            "inspect_container",
            "get_container_logs",
          ]
        rationale: "Discover, pull, and manage container images; orchestrate containerized infrastructure"
        priority: "critical"
        use_cases:
          - "Search for official base images"
          - "Pull specific image versions"
          - "Deploy containerized services"
          - "Monitor container health"

      - server: "rust-mcp-filesystem"
        tools:
          [
            "read_file",
            "write_file",
            "create_directory",
            "list_directory",
            "directory_tree",
          ]
        rationale: "Generate IaC files (Terraform, Compose), read configs, and manage deployment artifacts"
        priority: "critical"
        use_cases:
          - "Write Terraform modules"
          - "Generate docker-compose.yml"
          - "Read environment configs"
          - "Organize IaC repository structure"

      - server: "github-official"
        tools: ["create_branch", "push_files", "create_pull_request"]
        rationale: "Version control infrastructure code and trigger GitOps workflows"
        priority: "high"
        use_cases:
          - "Commit infrastructure changes"
          - "Open PRs for IaC review"
          - "Tag infrastructure releases"

      - server: "notion"
        tools: ["create_page", "query_database", "update_page"]
        rationale: "Maintain infrastructure documentation, runbooks, and deployment logs"
        priority: "high"
        use_cases:
          - "Document deployment procedures"
          - "Track infrastructure inventory"
          - "Log deployment history"

      - server: "gmail-mcp"
        tools: ["send_email"]
        rationale: "Send deployment notifications and alert on infrastructure failures"
        priority: "medium"
        use_cases:
          - "Notify on deployment completion"
          - "Alert on provisioning failures"

      - server: "prometheus"
        tools: ["query_metrics", "get_alerts"]
        rationale: "Monitor infrastructure health, resource utilization, and drift detection"
        priority: "high"
        notes: "When available - critical for production monitoring"

      - server: "context7"
        tools: ["search_docs"]
        rationale: "Reference infrastructure patterns, security baselines, and compliance requirements"
        priority: "medium"

      - server: "google-maps-comprehensive"
        tools: ["geocode_address", "reverse_geocode"]
        rationale: "Resolve datacenter locations and region metadata for multi-region deployments"
        priority: "low"
        use_cases:
          - "Map region codes to geographic locations"
          - "Calculate latency zones"

    shared_tools:
      - server: "time"
        tools: ["get_current_time", "convert_timezone"]
        rationale: "Schedule maintenance windows and track deployment timestamps across regions"

  # --------------------------------------------------------------------------
  # CI/CD AGENT
  # --------------------------------------------------------------------------
  cicd:
    mission: "Generates pipelines, orchestrates builds/tests, and manages deployment automation"

    recommended_tools:
      - server: "github-official"
        tools:
          [
            "create_pull_request",
            "list_commits",
            "create_branch",
            "get_file_contents",
            "list_workflow_runs",
            "get_workflow_run",
          ]
        rationale: "Trigger pipeline runs on commits, PRs, and branch events; monitor workflow status"
        priority: "critical"
        use_cases:
          - "Monitor PR events for CI triggers"
          - "Fetch commit metadata for build context"
          - "Create release branches"
          - "Check workflow run status"

      - server: "rust-mcp-filesystem"
        tools: ["read_file", "write_file", "list_directory"]
        rationale: "Generate CI/CD pipeline files (GitHub Actions, GitLab CI, etc.) and read build configs"
        priority: "critical"
        use_cases:
          - "Generate .github/workflows/*.yml"
          - "Read package.json for build commands"
          - "Write deployment scripts"

      - server: "dockerhub"
        tools:
          [
            "pull_image",
            "run_container",
            "list_containers",
            "get_container_logs",
            "stop_container",
          ]
        rationale: "Execute builds in isolated containers, run tests, and manage build artifacts"
        priority: "critical"
        use_cases:
          - "Run builds in reproducible containers"
          - "Execute test suites"
          - "Capture build logs"

      - server: "playwright"
        tools: ["navigate", "screenshot", "evaluate", "get_text", "pdf"]
        rationale: "Run E2E tests, capture test artifacts, and generate visual regression reports"
        priority: "high"
        use_cases:
          - "Execute automated E2E test suites"
          - "Capture screenshots for visual diffs"
          - "Generate test reports"

      - server: "notion"
        tools: ["create_page", "query_database", "append_blocks"]
        rationale: "Log build history, track flaky tests, and maintain CI/CD documentation"
        priority: "medium"
        use_cases:
          - "Create build failure tickets"
          - "Track test stability metrics"
          - "Document deployment procedures"

      - server: "gmail-mcp"
        tools: ["send_email"]
        rationale: "Notify teams of build failures, successful deployments, or test regressions"
        priority: "medium"
        use_cases:
          - "Alert on critical build failures"
          - "Send deployment summaries"

      - server: "stripe"
        tools: ["list_customers", "get_payment_intent"]
        rationale: "Run payment integration tests in CI pipelines (for payment-related features)"
        priority: "low"
        conditional: "Only for repos with payment functionality"

      - server: "prometheus"
        tools: ["query_metrics"]
        rationale: "Monitor pipeline performance, build times, and resource utilization"
        priority: "medium"

    shared_tools:
      - server: "time"
        tools: ["get_current_time"]
        rationale: "Timestamp builds and calculate pipeline duration"

      - server: "context7"
        tools: ["resolve-library-id", "get-library-docs"]
        rationale: "Reference CI/CD best practices and pipeline templates"

  # --------------------------------------------------------------------------
  # DOCUMENTATION AGENT
  # --------------------------------------------------------------------------
  documentation:
    mission: "Generates, maintains, and audits technical documentation, diagrams, and knowledge bases"

    recommended_tools:
      - server: "rust-mcp-filesystem"
        tools:
          [
            "read_file",
            "write_file",
            "search_files",
            "list_directory",
            "directory_tree",
          ]
        rationale: "Read source code for docstring extraction, write README/docs files, and organize documentation"
        priority: "critical"
        use_cases:
          - "Extract inline documentation"
          - "Generate README.md files"
          - "Create API reference docs"
          - "Organize docs/ directory structure"

      - server: "github-official"
        tools: ["get_file_contents", "list_commits", "create_pull_request"]
        rationale: "Track code changes, generate changelogs, and submit documentation updates"
        priority: "high"
        use_cases:
          - "Analyze commit messages for changelog"
          - "Detect undocumented API changes"
          - "Submit docs PRs"

      - server: "context7"
        tools: ["search_docs", "list_docs"]
        rationale: "Reference existing documentation, maintain consistency, and find gaps"
        priority: "high"
        use_cases:
          - "Find related documentation"
          - "Check for duplicate content"
          - "Identify documentation gaps"

      - server: "notion"
        tools:
          [
            "create_page",
            "append_blocks",
            "search_pages",
            "update_page",
            "export_page",
          ]
        rationale: "Publish documentation to Notion, maintain wiki pages, and export to multiple formats"
        priority: "high"
        use_cases:
          - "Publish user guides to Notion"
          - "Maintain team wiki"
          - "Export docs for PDF generation"

      - server: "hugging-face"
        tools: ["explain_code", "generate_docstrings", "summarize_text"]
        rationale: "Generate docstrings, explain complex code, and summarize long documents"
        priority: "high"
        use_cases:
          - "Auto-generate function docstrings"
          - "Explain algorithm implementations"
          - "Summarize architecture documents"

      - server: "playwright"
        tools: ["screenshot", "pdf"]
        rationale: "Capture UI screenshots for documentation and generate PDF manuals"
        priority: "medium"
        use_cases:
          - "Screenshot UI states for guides"
          - "Generate PDF user manuals"

      - server: "next-devtools-mcp"
        tools: ["get_routes", "analyze_build"]
        rationale: "Document Next.js route structure and API endpoints"
        priority: "medium"
        use_cases:
          - "Generate API route documentation"
          - "Document page structure"

      - server: "perplexity-ask"
        tools: ["ask", "search_recent"]
        rationale: "Research industry standards, best practices, and external documentation patterns"
        priority: "low"
        use_cases:
          - "Research documentation standards"
          - "Find external API examples"

      - server: "youtube_transcript"
        tools: ["get_transcript", "search_videos"]
        rationale: "Extract transcripts from tutorial videos to generate written guides"
        priority: "low"
        use_cases:
          - "Convert video tutorials to text"
          - "Reference existing video content"

    shared_tools:
      - server: "time"
        tools: ["get_current_time"]
        rationale: "Timestamp documentation updates and track freshness"

      - server: "gmail-mcp"
        tools: ["send_email"]
        rationale: "Notify stakeholders of documentation updates"

# ============================================================================
# UNIVERSALLY SHARED TOOLS (All Agents)
# ============================================================================

all_agents:
  shared_tools:
    - server: "time"
      tools: ["get_current_time", "convert_timezone"]
      rationale: "Universal timestamping for audit trails and SLA tracking"
      use_cases:
        - "Timestamp all agent operations"
        - "Calculate durations and latencies"
        - "Handle multi-timezone coordination"

    - server: "rust-mcp-filesystem"
      tools: ["read_file", "list_directory", "get_file_info"]
      rationale: "Basic filesystem access for reading configs and workspace navigation"
      use_cases:
        - "Read shared configuration files"
        - "Navigate repository structure"
        - "Validate file existence"

    - server: "context7"
      tools: ["resolve-library-id", "get-library-docs"]
      rationale: "Access shared documentation corpus for policies, standards, and guidelines"
      use_cases:
        - "Look up organizational policies"
        - "Reference shared standards"
        - "Find cross-agent documentation"

    - server: "notion"
      tools: ["search_pages", "get_page", "add_comment"]
      rationale: "Query shared task board, read specifications, and add status updates"
      use_cases:
        - "Read task requirements"
        - "Update progress status"
        - "Add completion notes"

# ============================================================================
# UNMAPPED TOOLS (Requiring Review)
# ============================================================================

unmapped_tools:
  - server: "stripe"
    tools:
      [
        "create_invoice",
        "update_subscription",
        "create_payment_link",
        "refund_payment",
      ]
    count: 18 # Most of 22 stripe tools
    reason: "Payment operations not directly relevant to development workflow automation"
    recommendation: "Reserve for feature-dev when building payment features; consider dedicated Payment Testing Agent"

  - server: "google-maps-comprehensive"
    tools:
      ["get_directions", "get_distance_matrix", "find_nearby", "get_timezone"]
    count: 4 # Some of 8 tools
    reason: "Location services not core to development automation"
    recommendation: "Use only when building location-based features or multi-region deployments"

  - server: "gmail-mcp"
    tools: ["search_emails", "get_email"]
    count: 2 # Of 3 tools
    reason: "Email reading/searching not typically needed in automation; sending covered"
    recommendation: "Could enable email-triggered workflows if use case emerges"

  - server: "youtube_transcript"
    tools: ["search_videos"]
    count: 1 # Of 3 tools
    reason: "Video search less relevant than transcript extraction for documentation"
    recommendation: "Low priority; consider if building video tutorial library"

  - server: "sequentialthinking"
    tools: ["think_step"]
    count: 1
    reason: "Assigned to orchestrator; unclear if other agents need explicit step reasoning"
    recommendation: "Monitor orchestrator usage; may benefit complex planning in other agents"

# ============================================================================
# CROSS-AGENT MEMORY TOOLS (CHEF-203)
# Token-efficient knowledge sharing via progressive disclosure
# ============================================================================

memory_tools:
  description: "Cross-agent knowledge sharing - query and store insights via RAG service"
  server: rag-context
  endpoint: "http://rag-context:8007/memory/*"

  tools:
    - name: query_insights
      description: "Search for relevant insights from prior agent work"
      http_method: POST
      path: "/memory/query"
      parameters:
        query:
          type: string
          required: true
          description: "Semantic search query for relevant insights"
        insight_types:
          type: array
          required: false
          description: "Filter by type (architectural_decision, error_pattern, code_pattern, task_resolution, security_finding)"
        limit:
          type: integer
          required: false
          default: 5
          description: "Max results (default 5)"
        agent_id:
          type: string
          required: false
          description: "Filter to specific agent's insights (omit for cross-agent search)"
      use_cases:
        - "Retrieve past solutions for similar errors"
        - "Find architectural patterns from infrastructure agent"
        - "Get security findings before deployment"

    - name: store_insight
      description: "Store an insight for future agents to use"
      http_method: POST
      path: "/memory/store"
      parameters:
        insight_type:
          type: string
          required: true
          description: "One of: architectural_decision, error_pattern, code_pattern, task_resolution, security_finding"
        content:
          type: string
          required: true
          description: "The insight content (max 2000 chars)"
        source_workflow_id:
          type: string
          required: false
          description: "Workflow that generated this insight"
        source_task:
          type: string
          required: false
          description: "Task description for context"
        metadata:
          type: object
          required: false
          description: "Additional metadata (file_path, commit_sha, etc.)"
      use_cases:
        - "Record architectural decisions for future reference"
        - "Store error resolution patterns"
        - "Capture security findings from code review"

    - name: get_agent_history
      description: "Get recent insights from a specific agent"
      http_method: GET
      path: "/memory/agent/{agent_id}"
      parameters:
        agent_id:
          type: string
          required: true
          description: "Agent ID to query (feature-dev, code-review, etc.)"
        limit:
          type: integer
          required: false
          default: 20
          description: "Max results"
      use_cases:
        - "Review agent's recent contributions"
        - "Check for duplicate insight before storing"

  # Which agents have access to memory tools (progressive disclosure)
  agents:
    - supervisor # Knowledge-aware routing decisions
    - feature_dev # Consume code patterns, error resolutions
    - code_review # Consume/produce security findings
    - infrastructure # Consume architectural decisions
    - cicd # Consume error patterns, task resolutions
    - documentation # Consume patterns for documentation context

  # Keywords that trigger memory tool loading (progressive disclosure)
  keywords:
    - "insight"
    - "pattern"
    - "previous"
    - "similar"
    - "learned"
    - "memory"
    - "history"
    - "resolution"
    - "security finding"
    - "architectural decision"
    - "error pattern"

  token_efficiency:
    estimated_savings: "500-1000 tokens per request vs always-on context injection"
    strategy: "Tools loaded only when task keywords match (progressive disclosure)"
    note: "Query results injected as compact context instead of full insight history"

# ============================================================================
# INTEGRATION NOTES
# ============================================================================

integration_guidance:
  cross_agent_coordination:
    - "Use LangGraph checkpointing for workflow state persistence"
    - "Use notion as single source of truth for task specifications and status"
    - "Prefer github-official for all source control operations to maintain consistent commit context"
    - "Route all container operations through dockerhub server for unified image management"

  access_control:
    - "Orchestrator has unrestricted access to all tools"
    - "Feature-dev and infrastructure have write access to rust-mcp-filesystem"
    - "Code-review has read-only access to github-official and filesystem"
    - "CI/CD has container exec privileges via dockerhub"
    - "Documentation has read-mostly access with targeted write for docs/ directories"

  failure_handling:
    - "When prometheus unavailable, agents should fall back to local logging"
    - "If github-official fails, agents can use rust-mcp-filesystem as temporary storage"
    - "LangGraph checkpointer handles workflow state persistence and recovery"

  observability:
    - "Use LangSmith for LLM call tracing and token usage"
    - "Use notion comments for human-readable status updates"
    - "prometheus metrics (when available) provide quantitative health signals"
    - "gmail notifications only for critical/blocking events to avoid noise"

  optimization_hints:
    - "Batch filesystem operations when possible (rust-mcp-filesystem)"
    - "Cache notion page queries to reduce API calls"
    - "Use playwright headless mode for faster test execution"
    - "Leverage dockerhub image caching to speed up container operations"

# ============================================================================
# ROUTING RECOMMENDATIONS FOR ORCHESTRATOR
# ============================================================================

orchestrator_routing_rules:
  task_classification:
    feature_request:
      primary_agent: "feature_dev"
      required_tools: ["rust-mcp-filesystem", "github-official", "playwright"]
      optional_tools: ["hugging-face", "context7"]

    code_quality_check:
      primary_agent: "code_review"
      required_tools: ["github-official", "rust-mcp-filesystem"]
      optional_tools: ["hugging-face", "notion"]

    infrastructure_change:
      primary_agent: "infrastructure"
      required_tools: ["dockerhub", "rust-mcp-filesystem", "github-official"]
      optional_tools: ["prometheus", "notion"]

    pipeline_setup:
      primary_agent: "cicd"
      required_tools: ["github-official", "rust-mcp-filesystem", "dockerhub"]
      optional_tools: ["playwright", "notion"]

    documentation_update:
      primary_agent: "documentation"
      required_tools: ["rust-mcp-filesystem", "github-official"]
      optional_tools: ["notion", "hugging-face", "context7"]

  tool_availability_checks:
    - "Before routing, verify required tools are healthy"
    - "If critical tool unavailable, queue task with retry strategy"
    - "Suggest alternative tools if primary choice is down"

  priority_escalation:
    - "Use gmail-mcp for high-priority task notifications"
    - "Update notion immediately for stakeholder-visible tasks"
    - "Leverage sequentialthinking for ambiguous/complex requests"

# ============================================================================
# VERSION & MAINTENANCE
# ============================================================================

metadata:
  version: "2.0.0"
  last_updated: "2025-12-03T00:00:00Z"
  maintainer: "Dev-Tools Orchestration Team"
  review_schedule: "Monthly or upon new MCP server additions"
  changelog:
    - version: "2.0.0"
      date: "2025-12-03"
      changes:
        - "Replaced gitmcp with github-official (40 tools with OAuth)"
        - "Removed memory server (using LangGraph checkpointing + Qdrant)"
        - "Removed fetch and perplexity-ask (redundant)"
        - "Added grafana, prometheus, gemini-api-docs, llmtxt, zen servers"
        - "Updated tool counts: 18 servers → 20 servers, 150 tools → 178 tools"
  related_docs:
    - "agents/*/README.md"
    - "support/docs/ARCHITECTURE.md"
    - ".github/copilot-instructions.md"
