codechef.appsmithery.co {
	# API endpoints
	reverse_proxy /api/* orchestrator:8001
	reverse_proxy /webhooks/linear orchestrator:8001

	# Service endpoints
	reverse_proxy /rag/* rag-context:8007
	reverse_proxy /state/* state-persistence:8008
	reverse_proxy /langgraph/* langgraph:8010

	# OAuth2 protected Prometheus
	redir /prometheus /prometheus/
	reverse_proxy /prometheus/* oauth2-proxy:4180
	reverse_proxy /oauth2/* oauth2-proxy:4180

	# Frontend SPA (catch-all for client-side routing)
	root * /srv/frontend
	encode gzip
	try_files {path} /index.html
	file_server

	# HTTPS with Let's Encrypt
	tls alex@appsmithery.co
}
